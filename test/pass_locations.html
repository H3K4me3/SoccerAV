<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>

<body>
    <h3>All pass locations</h3>
    <div id="field"></div>
    <script>
     // The width is 120 yards, the height is 80 yards.
     const width = 120 * 5;
     const height = 80 * 5;
     d3.json("../rawdata/data/events/7298.json").then(function(data) {
         data = data.filter(d => d.type.name == "Pass");

         let svg = d3.select("#field")
             .append("svg")
             .attr("width", width)
             .attr("height", height);

         svg.append("rect")
             .attr("x", 0)
             .attr("y", 0)
             .attr("width", width)
             .attr("height", height)
             .style("fill", "green");

         let scaleX = d3.scaleLinear().domain([0, 120]).range([0, width]);
         let scaleY = d3.scaleLinear().domain([0, 80]).range([height, 0]);

         svg.selectAll("circle.pos")
            .data(data)
            .enter()
            .append("circle")
            .attr("class", "pos")
            .attr("r", 2)
            .attr("cx", d => scaleX(d.location[0]))
            .attr("cy", d => scaleY(d.location[1]));
     });
    </script>
</body>

</html>
